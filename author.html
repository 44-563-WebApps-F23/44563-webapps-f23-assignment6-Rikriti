<!DOCTYPE html>
<html>
  <head>
    <title>This Lab06 webapp</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body{
        background-color: #f8f9fa;
      }
    </style>
  </head>
  <body>
    <div class="container bg-light">
    <h2>Author entry Rikriti Koirala</h2>

    <form>
      <div class="form-group">
       <label for="secretAuthor" class="col-sm-4 col-form-label">The hidden author name:</label>
       <div class="col-sm-4">
        <input type="password" class="form-control" id="secretAuthor" value="Dickens">
      </div>
</div>
<div class="form-group">
  <label for="guessAuthor" class="col-sm-4 col-form-label">Guess the author:</label>
  <div class="col-sm-4">
    <input type="text" class="form-control" id="guessAuthor">
 </div>
</div>
<div class="col-sm-4">
  <button type="button" class="btn btn-success" id="checkButton">Check the guess</button>
</div>
     
 <div class="mt-3">
      <div id="score" class="alert alert-primary" style="display: none; width: 300px;"></div>
  </div>

    <div class="col-sm-4">
      <p id="result">
        Results<br> Good - <span id="goodCount">0</span></p>
        <p>
        Oops -
        <span id="oopsCount">0</span>
      </p>
    </div>
    <div class="col-sm-4">

    <div id="image">
      <button onclick="selectImage()">
        <img
          id="imageSwitch"
          src="ktm.jpg"
          alt="ktm"
          height="100px"
          width="100px"
        />
      </button>
  </div>
  </div>
</form>
    </div>
    <script>
      let good = 0;
      let oops = 0;
      function checkAuthor() {
        const secretAuthorInput = document.getElementById("secretAuthor");
        const guessAuthorInput = document.getElementById("guessAuthor");
        const resultElement = document.getElementById("score");
        const incorrectGuessesElement =
          document.getElementById("oopsCount");
        const secretAuthor = secretAuthorInput.value.trim();
        const guessAuthor = guessAuthorInput.value.trim();
        if (secretAuthor === guessAuthor) {
          good++;
          alert("You got it right!");
          resultElement.style.display = "block";
          resultElement.innerHTML = `Correct Guess! good : ${good}`;
        } else {
          oops++;

          incorrectGuessesElement.innerHTML = `${oops}`;
          if (oops >= 7) {
            document.getElementById("checkButton").onclick = function () {
              alert("Sorry, ran out of guesses.");
            };
          } else {
            alert("Sorry, try again.");
          }
        }
      }
      document.getElementById("checkButton").onclick = checkAuthor;

      let useImage = 1;
      function selectImage() {
        switch (useImage) {
          case 1:
            var img = document.getElementById("imageSwitch");
            img.src = "ottawa.jpg";
            useImage = 2;
            break;
          case 2:
            var img = document.getElementById("imageSwitch");
            img.src = "rome.jpg";
            useImage = 3;
            break;
          case 3:
            var img = document.getElementById("imageSwitch");
            img.src = "ktm.jpg";
            console.log(useImage);
            useImage = 1;
            break;
        }
      }
    </script>
  </body>
</html>
